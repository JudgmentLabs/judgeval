{
    "openapi": "3.1.0",
    "info": {
      "title": "Judgment Labs: Automated LLM Evaluation",
      "description": "\n        At Judgment Labs, we're building a platform to automate LLM evaluation pipelines at scale, with a focus on RAG and agent evaluation.\n\n        We aim to make testing sophisticated systems as straightforward as calling an API and running traditional unit tests.\n\n        Key Features:\n        - Automated evaluation pipeline for correctness assessment\n        - LLM-as-Judge architectures with 15+ specialized metrics\n        - RAG system evaluation: Verify LLM outputs against source diagnostics\n        - Robust factual verification and hallucination detection\n        - Agentic system evaluation: Simplified unit testing for LLM behaviors\n\n        Judgment Labs is dedicated to streamlining the evaluation process, allowing developers to focus on building rather than managing evaluation infrastructure.\n\n        We come from Together AI, Datadog, and Juniper Networks, as well as Stanford, Berkeley, and UCLA. Our work spans model evaluation, tool development, and AI agents.\n        ",
      "version": "1.0.0"
    },
    "paths": {
      "/traces/save/": {
        "post": {
          "tags": ["traces"],
          "summary": "Save Trace",
          "description": "Save a trace for a user given trace data.\nRate limits based on organization tier and on-demand availability.\nIf the project specified in trace_data.project_name does not exist,\nit will be created automatically.",
          "operationId": "save_trace_traces_save__post",
          "security": [{ "HTTPBearer": [] }],
          "parameters": [
            {
              "name": "X-Organization-Id",
              "in": "header",
              "required": true,
              "schema": { "type": "string", "title": "X-Organization-Id" }
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/TraceSave" } }
            }
          },
          "responses": {
            "200": {
              "description": "Successful Response",
              "content": { "application/json": { "schema": {} } }
            },
            "422": {
              "description": "Validation Error",
              "content": {
                "application/json": {
                  "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "TraceSave": {
          "properties": {
            "trace_id": { "type": "string", "title": "Trace Id" },
            "name": { "type": "string", "title": "Name" },
            "created_at": { "type": "string", "title": "Created At" },
            "duration": { "type": "number", "title": "Duration" },
            "trace_spans": {
              "items": { "$ref": "#/components/schemas/TraceSpan" },
              "type": "array",
              "title": "Trace Spans"
            },
            "overwrite": { "type": "boolean", "title": "Overwrite", "default": false },
            "offline_mode": { "type": "boolean", "title": "Offline Mode", "default": false },
            "rules": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Rules"
            },
            "has_notification": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "title": "Has Notification",
              "default": false
            },
            "customer_id": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Customer Id"
            },
            "tags": {
              "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }],
              "title": "Tags"
            },
            "project_name": { "type": "string", "title": "Project Name" },
            "evaluation_runs": {
              "items": { "$ref": "#/components/schemas/JudgmentEval" },
              "type": "array",
              "title": "Evaluation Runs"
            }
          },
          "type": "object",
          "required": [
            "trace_id",
            "name",
            "created_at",
            "duration",
            "trace_spans",
            "project_name",
            "evaluation_runs"
          ],
          "title": "TraceSave"
        },
        "HTTPValidationError": {
          "properties": {
            "detail": {
              "items": { "$ref": "#/components/schemas/ValidationError" },
              "type": "array",
              "title": "Detail"
            }
          },
          "type": "object",
          "title": "HTTPValidationError"
        },
        "TraceSpan": {
          "properties": {
            "span_id": { "type": "string", "title": "Span Id" },
            "trace_id": { "type": "string", "title": "Trace Id" },
            "function": { "type": "string", "title": "Function" },
            "depth": { "type": "integer", "title": "Depth" },
            "created_at": { "anyOf": [{}, { "type": "null" }], "title": "Created At" },
            "parent_span_id": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Parent Span Id"
            },
            "span_type": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Span Type",
              "default": "span"
            },
            "inputs": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Inputs"
            },
            "output": { "anyOf": [{}, { "type": "null" }], "title": "Output" },
            "error": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Error"
            },
            "usage": { "anyOf": [{ "$ref": "#/components/schemas/TraceUsage" }, { "type": "null" }] },
            "duration": { "anyOf": [{ "type": "number" }, { "type": "null" }], "title": "Duration" },
            "annotation": {
              "anyOf": [
                { "items": { "additionalProperties": true, "type": "object" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Annotation"
            },
            "expected_tools": {
              "anyOf": [
                { "items": { "$ref": "#/components/schemas/Tool" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Expected Tools"
            },
            "additional_metadata": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Additional Metadata"
            },
            "has_evaluation": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "title": "Has Evaluation",
              "default": false
            },
            "agent_name": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Agent Name"
            },
            "state_before": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "State Before"
            },
            "state_after": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "State After"
            }
          },
          "type": "object",
          "required": ["span_id", "trace_id", "function", "depth"],
          "title": "TraceSpan"
        },
        "JudgmentEval": {
          "properties": {
            "project_name": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Project Name"
            },
            "eval_name": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Eval Name"
            },
            "examples": {
              "items": { "$ref": "#/components/schemas/Example" },
              "type": "array",
              "title": "Examples"
            },
            "scorers": {
              "items": { "$ref": "#/components/schemas/Scorer" },
              "type": "array",
              "title": "Scorers"
            },
            "model": {
              "anyOf": [{ "type": "string" }, { "items": { "type": "string" }, "type": "array" }],
              "title": "Model"
            },
            "aggregator": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Aggregator"
            },
            "metadata": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Metadata",
              "default": {}
            },
            "judgment_api_key": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Judgment Api Key"
            },
            "log_results": { "type": "boolean", "title": "Log Results" },
            "append": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "title": "Append",
              "default": false
            },
            "override_existing_eval_run_name": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "title": "Override Existing Eval Run Name",
              "default": false
            },
            "rules": {
              "anyOf": [{ "items": {}, "type": "array" }, { "type": "null" }],
              "title": "Rules"
            },
            "trace_span_id": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Trace Span Id"
            }
          },
          "type": "object",
          "required": ["examples", "scorers", "model", "log_results"],
          "title": "JudgmentEval"
        },
        "ValidationError": {
          "properties": {
            "loc": {
              "items": { "anyOf": [{ "type": "string" }, { "type": "integer" }] },
              "type": "array",
              "title": "Location"
            },
            "msg": { "type": "string", "title": "Message" },
            "type": { "type": "string", "title": "Error Type" }
          },
          "type": "object",
          "required": ["loc", "msg", "type"],
          "title": "ValidationError"
        },
        "Tool": {
          "properties": {
            "tool_name": { "type": "string", "title": "Tool Name" },
            "parameters": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Parameters"
            },
            "agent_name": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Agent Name"
            },
            "result_dependencies": {
              "anyOf": [
                { "items": { "additionalProperties": true, "type": "object" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Result Dependencies"
            },
            "action_dependencies": {
              "anyOf": [
                { "items": { "additionalProperties": true, "type": "object" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Action Dependencies"
            },
            "require_all": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "title": "Require All"
            }
          },
          "type": "object",
          "required": ["tool_name"],
          "title": "Tool"
        },
        "Example": {
          "properties": {
            "example_id": { "type": "string", "title": "Example Id" },
            "input": {
              "anyOf": [
                { "type": "string" },
                { "additionalProperties": true, "type": "object" },
                { "type": "null" }
              ],
              "title": "Input"
            },
            "actual_output": {
              "anyOf": [
                { "type": "string" },
                { "items": { "type": "string" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Actual Output"
            },
            "expected_output": {
              "anyOf": [
                { "type": "string" },
                { "items": { "type": "string" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Expected Output"
            },
            "context": {
              "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }],
              "title": "Context"
            },
            "retrieval_context": {
              "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }],
              "title": "Retrieval Context"
            },
            "additional_metadata": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Additional Metadata"
            },
            "tools_called": {
              "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }],
              "title": "Tools Called",
              "default": []
            },
            "expected_tools": {
              "anyOf": [
                { "items": { "$ref": "#/components/schemas/Tool" }, "type": "array" },
                { "type": "null" }
              ],
              "title": "Expected Tools",
              "default": []
            },
            "name": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Name" },
            "created_at": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Created At"
            },
            "dataset_id": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Dataset Id"
            },
            "trace_span_id": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Trace Span Id"
            }
          },
          "type": "object",
          "required": ["example_id"],
          "title": "Example",
          "description": "Based on the examples table in the database"
        },
        "Scorer": {
          "properties": {
            "threshold": { "type": "number", "title": "Threshold" },
            "score_type": { "type": "string", "title": "Score Type" },
            "kwargs": {
              "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
              "title": "Kwargs"
            }
          },
          "type": "object",
          "required": ["threshold", "score_type"],
          "title": "Scorer",
          "description": "Data object to describe a Metric used for evaluating Examples"
        }
      },
      "securitySchemes": { "HTTPBearer": { "type": "http", "scheme": "bearer" } }
    }
  }
  